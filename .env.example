# ============================================
# GitHub Configuration
# ============================================
# Your GitHub Personal Access Token (需要 repo 权限)
GITHUB_TOKEN=your_github_token_here

# 要监控的仓库列表（逗号分隔）
REPOS=apache/hertzbeat

# ============================================
# Database Configuration (PostgreSQL)
# ============================================
# PostgreSQL 连接字符串
# 格式: postgresql://用户名:密码@主机:端口/数据库名
# 注意：密码需要与 docker-compose.yml 中的 POSTGRES_PASSWORD 一致
DATABASE_URL=postgresql://issue_tracker:your_secure_password@localhost:5432/issue_tracker

# ============================================
# LLM Configuration
# ============================================
# LLM API 地址（支持 OpenAI 兼容接口）
LLM_BASE_URL=http://localhost:11434/v1

# LLM API Key（本地 Ollama 可以用 dummy）
LLM_API_KEY=dummy

# 使用的模型名称
LLM_MODEL=qwen2.5:14b

# ============================================
# Notification Configuration
# ============================================
# 飞书 Webhook URL（可选，留空则不发送通知）
FEISHU_WEBHOOK_URL=

# ============================================
# Agent Limits
# ============================================
# 每次运行最多处理的新 Issue 总数
MAX_NEW_ISSUES_TOTAL=20

# 每个仓库最多处理的新 Issue 数
MAX_NEW_ISSUES_PER_REPO=5

# 从 GitHub 拉取的 Issue 数量上限
PER_REPO_FETCH_LIMIT=100

# Issue 正文最大字符数（超出会截断）
MAX_BODY_CHARS=2000

# Issue 标题最大字符数（超出会截断）
MAX_TITLE_CHARS=100

# 飞书通知中最多显示的缺失项数量
MAX_MISSING_ITEMS=10

# ============================================
# Local Repository Paths (向量检索功能)
# ============================================
# GitHub 仓库到本地路径的映射（JSON 格式）
# 格式: {"owner/repo": "/absolute/path/to/local/repo"}
# 示例: {"apache/hertzbeat": "/Users/yourname/workspace/hertzbeat"}
# 配置后，AI 分析时会检索本地代码库
REPO_PATHS={"apache/hertzbeat": "/path/to/local/hertzbeat"}

# 默认自动 clone 新仓库的目录
DEFAULT_REPOS_DIR=./repos

